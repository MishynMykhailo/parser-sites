# Site Parser v1

Мощный инструмент для клонирования лендингов и веб-сайтов, оптимизированный для нужд команд по арбитражу трафика. Проект автоматизирует процесс "выкачивания" целевых сайтов, которые медиабаи используют для продвижения офферов.

## Основное назначение

Этот проект предназначен для глубокого парсинга веб-сайтов. Он открывает целевые страницы через прокси, перехватывает сетевые запросы для обнаружения ресурсов и сохраняет структуру сайта локально для последующего использования.

## Основные возможности

*   **Поддержка прокси**: Возможность работы через HTTP/HTTPS прокси с авторизацией для обхода блокировок и обфускации источника трафика.
*   **Перехват запросов (Request Interception)**: Автоматическое обнаружение и сбор всех изображений, скриптов и стилей прямо в процессе загрузки страницы.
*   **Полное клонирование ассетов**: Загрузка всех JS, CSS и изображений в локальные папки (`src/js`, `src/css`, `src/img`).
*   **Эмуляция мобильных устройств**: По умолчанию имитирует iPhone (User-Agent и Viewport) для получения мобильных версий сайтов, которые чаще всего используются в арбитраже.
*   **Безопасность и обфускация**: 
    *   Блокировка `eval()`, `atob()` и конструктора `Function` для предотвращения выполнения вредоносных или следящих скриптов.
    *   Удаление подозрительных узлов с инлайновым JS.
    *   Очистка тегов `<noscript>`.
*   **Автоматическая модификация контента**: После загрузки скрипт автоматически правит пути к изображениям, стилям и скриптам в HTML-файле, чтобы они ссылались на локальные копии.
*   **Очистка CSS**: Инструмент правит ссылки внутри CSS-файлов и удаляет лишние свойства.

## Стек технологий

*   **Node.js**
*   **Puppeteer**: Для управления браузером и рендеринга страниц.
*   **Axios / Node-fetch**: Для загрузки файлов.
*   **Colors**: Для информативного вывода в консоль.

## Установка

1. Склонируйте репозиторий.
2. Установите зависимости:
   ```bash
   npm install
   ```
3. Создайте файл `.env` на основе `.env.example` и заполните необходимые данные:
   ```env
   P_LINK=https://target-site.com
   PROX_SERVER=http://your-proxy-server:port
   PROX_LOGIN=your_login
   PROX_PASS=your_password
   ```

## Использование

Для запуска процесса парсинга выполните команду:

```bash
npm start
```

После запуска программа спросит, нужно ли удалить папку `src` перед началом работы. Введите `y` (да) или `n` (нет).

Весь скачанный и обработанный контент будет сохранен в директорию `src`.
